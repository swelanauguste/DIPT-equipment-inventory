<form class="select-form small" method="get" action="">
    <div class="col-lg-4 p-3 bg-light shadow rounded-4">
    <h3>Filter computers</h3><br>
    <div class="row">
        <div class="mb-2">
            <input type="text" name="query" class="form-control" placeholder="Computer name, Serial number, Notes..." value="{{ request.GET.query }}">
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-lg-6 mb-2">
            <select class="form-control" name="status" onchange="this.form.submit()">
                <option value="">Select Status</option>
                {% for stat in statuses %}
                    <option value="{{ stat.id }}" {% if request.GET.status == stat.id|stringformat:"s" %}selected{% endif %}>{{ stat.name|upper }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-lg-6 mb-2">
            <select class="form-control" name="os">
                <option value="">Select Operating System</option>
                {% for os in operating_systems %}
                    <option value="{{ os.id }}" {% if request.GET.os == os.id|stringformat:"s" %}selected{% endif %}>{{ os.name|upper }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-lg-6 mb-2">
            <select class="form-control" name="model">
                <option value="">Select Model</option>
                {% for model in models %}
                    <option value="{{ model.id }}" {% if request.GET.model == model.id|stringformat:"s" %}selected{% endif %}>{{ model|upper }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-lg-6 mb-2">
            <select class="form-control user" name="user">
                <option value="">Select User</option>
                {% for user in users %}
                    <option value="{{ user.id }}" {% if request.GET.user == user.id|stringformat:"s" %}selected{% endif %}>{{ user }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="row mb-2">

        <div class="col-lg-6 mb-2">
            <select class="department form-control" name="department">
                <option value="">Select Department</option>
                {% for department in departments %}
                    <option value="{{ department.id }}" 
                    {% if request.GET.department == department.id|stringformat:"s" %} 
                    selected
                    {% endif %}>
                    {{ department.name|upper }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-lg-6 mb-2">
            <select class="form-control location" name="location">
                <option value="">Select Location</option>
                {% for location in locations %}
                    <option value="{{ location.id }}" 
                    {% if request.GET.location == location.id|stringformat:"s" %}
                    selected
                    {% endif %}>
                    {{ location.name|upper }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>
    <br>
    <div class="d-flex justify-content-between">
        <div>
        <a href="?{{ query_params }}&export=true" class="text-success">Export to CSV</a>

        </div>
    <div>
        <a class="text-muted" href="{% url 'computer-list' %}">reset</a>

    </div>
    </div>  
</div>  
</form>